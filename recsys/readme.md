This is a blatantly borrowed and edited code from Collective Intelligence book.
